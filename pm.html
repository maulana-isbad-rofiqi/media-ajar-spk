<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul Profile Matching</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar navbar-dark shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class="fas fa-arrow-left me-2"></i> Modul PM</a>
        </div>
    </nav>

    <div class="container my-4">
        <div class="method-header" style="border-left-color: #0dcaf0;">
            <h2 class="fw-bold mb-3"><i class="fas fa-users-cog text-info me-2"></i>Profile Matching</h2>
            <p class="text-muted">Membandingkan Profil Individu dengan Profil Target (Standar) untuk mencari nilai GAP.</p>
        </div>

        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="step-card bg-white p-3 h-100">
                    <h5 class="fw-bold mb-3">üõ†Ô∏è Input Nilai Kandidat</h5>
                    <table class="table table-bordered align-middle">
                        <thead class="table-info"><tr><th>Aspek</th><th>Target</th><th>Nilai User</th></tr></thead>
                        <tbody>
                            <tr><td>Coding (Core)</td><td class="text-center fw-bold">5</td><td><input type="number" id="val1" class="form-control text-center" value="5"></td></tr>
                            <tr><td>SQL (Core)</td><td class="text-center fw-bold">4</td><td><input type="number" id="val2" class="form-control text-center" value="3"></td></tr>
                            <tr><td>Teamwork (Sec)</td><td class="text-center fw-bold">4</td><td><input type="number" id="val3" class="form-control text-center" value="4"></td></tr>
                            <tr><td>Komunikasi (Sec)</td><td class="text-center fw-bold">3</td><td><input type="number" id="val4" class="form-control text-center" value="3"></td></tr>
                        </tbody>
                    </table>
                    <button onclick="hitungPM()" class="btn btn-info text-white w-100 rounded-pill fw-bold shadow">
                        <i class="fas fa-search me-1"></i> Hitung GAP
                    </button>
                </div>
            </div>

            <div class="col-lg-6">
                <div id="hasil-container" class="d-none">
                    <div class="step-card bg-white">
                        <div class="step-header text-info">Analisis GAP & Bobot</div>
                        <div class="p-3 table-responsive">
                            <table class="table table-sm table-striped small mb-0">
                                <thead><tr><th>Aspek</th><th>Gap</th><th>Bobot</th></tr></thead>
                                <tbody id="tabel-gap"></tbody>
                            </table>
                        </div>
                    </div>
                    <div id="final-result" class="result-badge mt-3" style="background: linear-gradient(135deg, #0dcaf0 0%, #0aa2c0 100%);"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getBobotGap(gap) {
            if (gap == 0) return 5;
            if (gap == 1) return 4.5;
            if (gap == -1) return 4;
            if (gap == 2) return 3.5;
            if (gap == -2) return 3;
            if (gap == 3) return 2.5;
            if (gap == -3) return 2;
            if (gap == 4) return 1.5;
            if (gap == -4) return 1;
            return 0;
        }

        function hitungPM() {
            let t1=5, t2=4, t3=4, t4=3;
            let u1 = parseFloat(document.getElementById('val1').value);
            let u2 = parseFloat(document.getElementById('val2').value);
            let u3 = parseFloat(document.getElementById('val3').value);
            let u4 = parseFloat(document.getElementById('val4').value);

            let g1 = u1 - t1; let b1 = getBobotGap(g1);
            let g2 = u2 - t2; let b2 = getBobotGap(g2);
            let g3 = u3 - t3; let b3 = getBobotGap(g3);
            let g4 = u4 - t4; let b4 = getBobotGap(g4);

            let ncf = (b1 + b2) / 2;
            let nsf = (b3 + b4) / 2;
            let total = (0.6 * ncf) + (0.4 * nsf);

            document.getElementById('hasil-container').classList.remove('d-none');
            document.getElementById('tabel-gap').innerHTML = `
                <tr><td>Coding</td><td>${g1}</td><td>${b1}</td></tr>
                <tr><td>SQL</td><td>${g2}</td><td>${b2}</td></tr>
                <tr><td>Teamwork</td><td>${g3}</td><td>${b3}</td></tr>
                <tr><td>Komunikasi</td><td>${g4}</td><td>${b4}</td></tr>
            `;
            document.getElementById('final-result').innerText = `Nilai Akhir: ${total.toFixed(2)}`;
        }
    </script>
</body>
</html>
